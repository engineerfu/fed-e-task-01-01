<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.3.3 (459822)"/><meta name="author" content="刘六六丶"/><meta name="created" content="2020-07-01 12:22:36 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2020-07-01 13:46:00 +0000"/><title>promise</title></head><body><div>commonjs提出的promise</div><div>Es2015 被规定未 异步标准</div><div><br/></div><div><img src="promise.resources/8191DB0C-4999-47A8-8B2C-59AD1A66BAFE.png" height="1004" width="1774"/></div><div><br/></div><div><br/></div><div>用promise.race实现ajax请求超时</div><div><br/></div><div> 在一个promis对象中设置一个延迟计时器 ，假定延迟5s。</div><div><span>    </span><br/></div><div><span> promise.race的参数就是 发起请求的promis对象 和 设置的延迟计时器对象</span></div><div><span><span> 根据race的原理（以第一个结束的promise进程结束（无论失败还是成功）而结束） </span></span></div><div><span><span><br/></span></span></div><div><span><span><br/></span></span></div><div><span><span>promis执行的时序问题/宏任务  </span><br/></span></div><div><span><span><br/></span></span></div><div>日常的setTimeout是宏任务，promis是微任务，微任务会在本轮回调结束立即执行</div></body></html>